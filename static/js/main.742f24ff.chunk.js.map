{"version":3,"sources":["redux/operations.js","components/Form/Form.jsx","redux/selectors.js","components/ListContacts/ListContacts.jsx","redux/actions.js","components/Filter/Filter.jsx","App.jsx","redux/reducer.js","redux/store.jsx","index.js"],"names":["axios","defaults","baseURL","fetchContacts","createAsyncThunk","_","a","rejectWithValue","get","contacts","data","message","addContact","name","number","post","contact","deleteContact","contactID","delete","connect","dispatch","onSubmit","obj","useState","setName","setNumber","type","e","preventDefault","value","pattern","title","required","onChange","currentTarget","getFilteredContacts","createSelector","filter","entities","normalizedFilter","toLowerCase","includes","onClick","id","useDispatch","useEffect","useSelector","selectors","length","map","target","changeFilter","createAction","Filter","uuidv4","htmlFor","App","className","createReducer","fulfilled","action","payload","state","isLoading","pending","rejected","error","combineReducers","store","configureStore","reducer","contactsReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.742f24ff.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\nconst URL = 'http://localhost:4343';\r\naxios.defaults.baseURL = URL;\r\n\r\n\r\nexport const fetchContacts=createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, {rejectWithValue}) => {\r\n    try {\r\n      const contacts =await axios.get('/contacts')\r\n      return contacts.data\r\n    } catch (error) {\r\n      return rejectWithValue(error.message)\r\n    }\r\n   \r\n  }\r\n)\r\nexport const addContact=createAsyncThunk(\r\n  'contacts/addContact',\r\n  async ({name, number}, {rejectWithValue})=>{\r\n    try {\r\n      const contact= await axios.post('/contacts', {name, number})\r\n      return contact.data\r\n    } catch (error) {\r\n      return rejectWithValue(error.message)\r\n    }\r\n})\r\n\r\nexport const deleteContact=createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (contactID, {rejectWithValue})=>{\r\n    try {\r\n      const contact= await axios.delete(`contacts/${contactID}`)\r\n      return contactID\r\n    } catch (error) {\r\n      return rejectWithValue(error.message)\r\n    }}\r\n)\r\n\r\n// export const deleteContact=contactID=>dispatch=>{\r\n// dispatch(deleteContactRequest())\r\n// axios\r\n// .delete(`contacts/${contactID}`)\r\n// .then(()=>dispatch(deleteContactSuccess(contactID)))\r\n// .catch(error=>dispatch(deleteContactError(error.message)))\r\n// }","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {addContact} from 'redux/operations'\r\n\r\n function Form({ onSubmit }) {\r\n  const [name, setName] = useState('')\r\n  const [number, setNumber] = useState('')\r\n  const handleNameChange = (e) => setName(e.currentTarget.value)\r\n  const handleNumberChange = (e) => setNumber(e.currentTarget.value)\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    onSubmit({ name, number })\r\n    setName('')\r\n    setNumber('')\r\n  }\r\n  return (\r\n    <form type=\"submit\" onSubmit={handleSubmit}>\r\n      <label>\r\n        Name\r\n        <input\r\n          value={name}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n          required\r\n          onChange={handleNameChange}\r\n        />\r\n      </label>\r\n      <label>\r\n        Number\r\n        <input\r\n          value={number}\r\n          type=\"tel\"\r\n          name=\"number\"\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n          required\r\n          onChange={handleNumberChange}\r\n        />\r\n      </label>\r\n      <button type=\"submit\">Add contact</button>\r\n    </form>\r\n  )\r\n}\r\nconst mapDispatchToProrps = (dispatch) => ({\r\n  onSubmit: (obj) => dispatch(addContact(obj)),\r\n})\r\nexport default connect(null, mapDispatchToProrps)(Form)","import { createSelector } from \"reselect\"\r\n\r\nexport const getContacts= ({contacts}) => contacts.entities\r\nexport const getFilter= ({filter}) => filter\r\n\r\nexport const getFilteredContacts= createSelector(\r\n    [getFilter, getContacts],\r\n    (filter, contacts)=>{\r\n        if(filter){\r\n            const normalizedFilter=filter.toLowerCase()\r\n            return contacts.filter(contact=>contact.name.toLowerCase().includes(normalizedFilter))\r\n        }\r\n        return contacts\r\n    }\r\n)","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport {fetchContacts, deleteContact} from 'redux/operations'\r\nimport * as selectors from 'redux/selectors'\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nfunction ListContacts({onClick}) {\r\n   const dispatch = useDispatch()\r\n   useEffect(() => {\r\n    dispatch(fetchContacts())\r\n   }, [dispatch])\r\n\r\n   const contacts=useSelector(selectors.getFilteredContacts)\r\n\r\n  return (<ul>\r\n    {contacts.length>0 && contacts.map(({ id, name, number }) => (\r\n      <li key={id}>\r\n        {name} {number}\r\n        <button type=\"button\" id={id} onClick={(e)=>\r\n          onClick(e.target.id)\r\n          }>\r\n          delete\r\n        </button>\r\n      </li>\r\n    ))}\r\n  </ul>)\r\n}\r\n\r\n// ListContacts.propTypes = {\r\n//   contacts: PropTypes.oneOfType([\r\n//     PropTypes.string,\r\n//     PropTypes.number,\r\n//     PropTypes.array,\r\n//   ]),\r\n//   onClick: PropTypes.func.isRequired,\r\n// };\r\n\r\n\r\nconst mapDispatchToProrps = (dispatch) => ({\r\n  onClick: (id) => dispatch(deleteContact(id)),\r\n})\r\nexport default connect(null, mapDispatchToProrps)(ListContacts)\r\n","import { createAction } from \"@reduxjs/toolkit\"\n\nexport const changeFilter=createAction('contacts/changeFilter')\n\nexport const AddContactRequest=createAction('contacts/AddContactRequest')\nexport const addContactSuccess=createAction('contacts/addContactSuccess')\nexport const addContactError=createAction('contacts/addContactError')\n\nexport const deleteContactRequest=createAction('contacts/deleteContactRequest')\nexport const deleteContactSuccess=createAction('contacts/deleteContactSuccess')\nexport const deleteContactError=createAction('contacts/deleteContactError')","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {changeFilter} from \"redux/actions\";\r\nimport { useSelector,useDispatch} from \"react-redux\";\r\n\r\nexport default  function Filter (){\r\n  const id = uuidv4();\r\n  const dispatch=useDispatch()\r\n\r\n  return (\r\n    <>\r\n      <label htmlFor={id}>   </label>\r\n      <input id={id}\r\n       type=\"text\"  \r\n       onChange={(e)=>{\r\n         dispatch(changeFilter(e.target.value))\r\n       }} />\r\n    </>\r\n  );\r\n};\r\n\r\nFilter.propTypes = {\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n};\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   value: state.contacts.filter,\r\n\r\n// })\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//   onChange: (e) => dispatch(actions.changeFilter(e.target.value))\r\n// })\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","import \"./App.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Form from \"./components/Form/Form\";\r\nimport ListContacts from \"./components/ListContacts/ListContacts\";\r\nimport Filter from \"./components/Filter/Filter\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <h3>Phonebook</h3>\r\n      <Form />\r\n      <h3>Contacts</h3>\r\n      <p>filter via name</p>\r\n      <Filter />\r\n      <ListContacts />\r\n    </div>\r\n  )\r\n}\r\n\r\n","import { combineReducers } from 'redux'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { fetchContacts } from './operations'\r\nimport { changeFilter } from './actions'\r\nimport { addContact, deleteContact } from './operations'\r\nconst entities = createReducer([], {\r\n  [fetchContacts.fulfilled]: (_, action) => {\r\n    return action.payload\r\n  },\r\n  [addContact.fulfilled]: (state, { payload }) => [...state, payload],\r\n  [deleteContact.fulfilled]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n})\r\nconst isLoading = createReducer(false, {\r\n  [fetchContacts.pending]: () => true,\r\n  [fetchContacts.fulfilled]: () => false,\r\n  [fetchContacts.rejected]: () => false,\r\n  [addContact.pending]: () => true,\r\n  [addContact.fulfilled]: () => false,\r\n  [addContact.rejected]: () => false,\r\n})\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContacts.rejected]: (_, action) => action.payload,\r\n  [fetchContacts.pending]: () => null,\r\n})\r\nexport const filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n})\r\nexport default combineReducers({\r\n  entities,\r\n  isLoading,\r\n  error,\r\n})\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport contactsReducer, {filter} from './reducer'\r\n\r\nexport const store= configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n    filter\r\n  },\r\n})\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport { Provider } from \"react-redux\";\nimport {store} from \"./redux/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      {/* <PersistGate loading={\"...Loading\"} persistor={store.persistor}> */}\n        <App />\n      {/* </PersistGate> */}\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}